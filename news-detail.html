<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ù–æ–≤–æ—Å—Ç—å ‚Äî –ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="emblem.png" />

  <style>
    /* –°–ª–∞–π–¥-—à–æ—É */
    .article-image { position: relative; overflow: hidden; border-radius: 12px; }
    .article-image img { width: 100%; display: none; transition: opacity 0.5s ease; border-radius: 12px; }
    .article-image img.active { display: block; }
    .prev-slide, .next-slide {
      position: absolute; top: 50%; transform: translateY(-50%);
      background: rgba(0,0,0,0.5); color: #fff; border: none;
      padding: 0.5rem 1rem; font-size: 1.5rem; cursor: pointer;
      border-radius: 4px;
    }
    .prev-slide { left: 10px; }
    .next-slide { right: 10px; }
  </style>
</head>

<body>
  <header>
    <div class="container header-content">
      <div class="logo">
        <a href="index.html" class="home-link">
          <i class="fas fa-home"></i>
          <span>–ù–∞&nbsp;–≥–ª–∞–≤–Ω—É—é</span>
        </a>
      </div>

      <nav id="navbar">
        <ul>
          <li><a href="news.html" class="active">–ù–æ–≤–æ—Å—Ç–∏</a></li>
          <li><a href="about.html">–û –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏</a></li>
          <li><a href="events.html">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a></li>
          <li><a href="partners.html">–ü–∞—Ä—Ç–Ω—ë—Ä—ã</a></li>
          <li><a href="awards.html">–ù–∞–≥—Ä–∞–¥—ã</a></li>
        </ul>
      </nav>

      <div class="search-container">
        <input id="searchInput" type="text" placeholder="–ü–æ–∏—Å–∫..." />
        <button id="searchBtn">üîç</button>
        <ul id="searchSuggestions" class="suggestions"></ul>
      </div>

      <!-- –ì–∞–º–±—É—Ä–≥–µ—Ä -->
      <div class="hamburger-menu" id="hamburgerMenu">
        <div class="hamburger-icon" id="hamburgerIcon">
          <span></span><span></span><span></span>
        </div>
        <div class="hamburger-content" id="hamburgerContent">
          <a href="literature.html">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a>
          <a href="music.html">–ú—É–∑—ã–∫–∞</a>
          <a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a>
          <a href="events.html">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a>
          <a href="reports.html">–û—Ç—á–µ—Ç—ã —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–µ–Ω–∏—è</a>
          <a href="about.html">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤</a>
        </div>
      </div>
    </div>
  </header>

  <main class="container" style="padding-top:24px;">
    <div id="articleContainer"></div>
  </main>

  <footer>
    <div class="container footer-extra">
      <p>¬© 2025 –ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
  </footer>

  <script>
    // ======= –ù–æ–≤–æ—Å—Ç–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ =======
    const NEWS_DATA = [
      {
        id: 1,
        title: "–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –î–Ω—ë–º –∑–∞—â–∏—Ç–Ω–∏–∫–∞ –û—Ç–µ—á–µ—Å—Ç–≤–∞",
        date: "2025-02-23",
        excerpt: "–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ—Ö –∑–∞—â–∏—Ç–Ω–∏–∫–æ–≤ —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º!",
        images: ["img/emblem.png", "img/ass.png", "img/emblem.png"],
        content: "<p>–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ –î–µ–Ω—å –∑–∞—â–∏—Ç–Ω–∏–∫–∞ –û—Ç–µ—á–µ—Å—Ç–≤–∞ ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏, –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è, —Ñ–æ—Ç–æ–æ—Ç—á—ë—Ç –∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è.</p>"
      },
      {
        id: 2,
        title: "–í—Å—Ç—Ä–µ—á–∞ –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –≤ –ú–æ—Å–∫–≤–µ",
        date: "2025-05-18",
        excerpt: "–¢–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞ –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤: –≤—Ä—É—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ –∏ –ø–∞–º—è—Ç–Ω–∞—è —Ü–µ—Ä–µ–º–æ–Ω–∏—è.",
        images: ["img/emblem.png", "img/emblem.png"],
        content: "<p>–ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç –æ –≤—Å—Ç—Ä–µ—á–µ –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –≤ –ú–æ—Å–∫–≤–µ: –∫—Ç–æ –±—ã–ª, —Ñ–æ—Ç–æ –∏ –ø–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ.</p>"
      },
      {
        id: 3,
        title: "–û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ –ø–æ–º–æ—â–∏",
        date: "2025-07-01",
        excerpt: "–û—Ç–∫—Ä—ã–ª—Å—è –Ω–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –∏ –∏—Ö —Å–µ–º–µ–π.",
        images: ["img/emblem.png"],
        content: "<p>–û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∞, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.</p>"
      },
      {
        id: 4,
        title: "–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–∞—è —è—Ä–º–∞—Ä–∫–∞",
        date: "2025-08-12",
        excerpt: "–Ø—Ä–º–∞—Ä–∫–∞ —Å–æ–±—Ä–∞–ª–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º –ø–æ–º–æ—â–∏ –≤–µ—Ç–µ—Ä–∞–Ω–∞–º.",
        images: ["img/emblem.png", "img/emblem.png"],
        content: "<p>–ö–∞–∫ –ø—Ä–æ—à–ª–∞ —è—Ä–º–∞—Ä–∫–∞, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ —Å—É–º–º–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤.</p>"
      }
    ];

    // ======= –£—Ç–∏–ª–∏—Ç—ã =======
    function getParam(name) {
      const params = new URLSearchParams(location.search);
      return params.get(name);
    }

    function escapeHtml(s) {
      return String(s).replace(/[&<>"']/g, c => ({
        '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
      }[c]));
    }

    // ======= –í—ã–≤–æ–¥ –Ω–æ–≤–æ—Å—Ç–∏ =======
    const id = getParam('id');
    const container = document.getElementById('articleContainer');

    if (!id) {
      container.innerHTML = '<div class="card"><p>–ú–∞—Ç–µ—Ä–∏–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä.</p></div>';
    } else {
      const item = NEWS_DATA.find(x => String(x.id) === String(id));
      if (!item) {
        container.innerHTML = '<div class="card"><p>–ú–∞—Ç–µ—Ä–∏–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω.</p></div>';
      } else {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏, –±–µ–∑ —Ä–∞–Ω–¥–æ–º–∞
        const images = item.images && item.images.length > 0
          ? item.images
          : ["img/default.jpg"];

        let imgsHtml = images
          .map((src, i) => `<img src="${escapeHtml(src)}" class="${i === 0 ? 'active' : ''}" alt="${escapeHtml(item.title)}">`)
          .join("");

        container.innerHTML = `
          <a href="#" class="btn btn-outline" id="backToNews">&larr; –ù–∞–∑–∞–¥ –∫ –Ω–æ–≤–æ—Å—Ç—è–º</a>
          <div class="article-wrapper">
            <div class="article-image" id="articleImage">
              ${imgsHtml}
              ${images.length > 1 ? `
                <button class="prev-slide">&#10094;</button>
                <button class="next-slide">&#10095;</button>` : ""}
            </div>
            <div class="article-content">
              <h1>${escapeHtml(item.title)}</h1>
              <p class="meta">${escapeHtml(item.date)}</p>
              <div class="article-body">${item.content}</div>
            </div>
          </div>
        `;

        // ======= –°–ª–∞–π–¥-—à–æ—É =======
        const imgs = document.querySelectorAll("#articleImage img");
        if (imgs.length > 1) {
          const prevBtn = document.querySelector(".prev-slide");
          const nextBtn = document.querySelector(".next-slide");
          let current = 0;

          function showSlide(n) {
            imgs[current].classList.remove("active");
            current = (n + imgs.length) % imgs.length;
            imgs[current].classList.add("active");
          }

          prevBtn.addEventListener("click", () => showSlide(current - 1));
          nextBtn.addEventListener("click", () => showSlide(current + 1));
          setInterval(() => showSlide(current + 1), 5000);
        }
      }
    }
    // ======= –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥ –∫ –Ω–æ–≤–æ—Å—Ç—è–º" =======
    document.addEventListener("DOMContentLoaded", () => {
      const backBtn = document.getElementById("backToNews");
      if (backBtn) {
        backBtn.addEventListener("click", (e) => {
          e.preventDefault();
          const savedPage = localStorage.getItem("lastNewsPage") || 1;
          window.location.href = `news.html?page=${savedPage}`;
        });
      }
    });
  </script>
  <script src="script.js"></script>
</body>
</html>
