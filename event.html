<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ ‚Äî –ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤</title>
  <link rel="stylesheet" href="style.css" />
  <!-- ‚úÖ –§–ê–í–ò–ö–û–ù–ö–ê -->
  <link rel="icon" type="image/png" href="emblem.png" />
  <style>
    /* –°–ª–∞–π–¥-—à–æ—É CSS */
    .article-image { position: relative; overflow: hidden; }
    .article-image img { width: 100%; display: none; transition: opacity 0.5s ease; }
    .article-image img.active { display: block; }
    .prev-slide, .next-slide {
      position: absolute; top: 50%; transform: translateY(-50%);
      background: rgba(0,0,0,0.5); color: #fff; border: none; padding: 0.5rem 1rem;
      font-size: 1.5rem; cursor: pointer; border-radius: 4px;
    }
    .prev-slide { left: 10px; }
    .next-slide { right: 10px; }
  </style>
</head>
<body>
  <header>
    <div class="container header-content">
      <div class="logo">
        <a href="index.html" class="home-link">
          <i class="fas fa-home"></i>
          <span>–ù–∞&nbsp;–≥–ª–∞–≤–Ω—É—é</span>
        </a>
      </div>
      <nav id="navbar">
        <ul>
          <li><a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a></li>
          <li><a href="about.html">–û –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏</a></li>
          <li><a href="events.html" class="active">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a></li>
          <li><a href="partners.html">–ü–∞—Ä—Ç–Ω—ë—Ä—ã</a></li>
          <li><a href="awards.html">–ù–∞–≥—Ä–∞–¥—ã</a></li>
        </ul>
      </nav>
      <div class="search-container">
        <input id="searchInput" type="text" placeholder="–ü–æ–∏—Å–∫..." />
        <button id="searchBtn">üîç</button>
        <ul id="searchSuggestions" class="suggestions"></ul>
      </div>
      <div class="burger" id="burger">
        <i class="fas fa-bars"></i>
      </div>
  <!-- –ì–∞–º–±—É—Ä–≥–µ—Ä-–º–µ–Ω—é —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π -->
<div class="hamburger-menu" id="hamburgerMenu">
  <div class="hamburger-icon" id="hamburgerIcon">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <div class="hamburger-content" id="hamburgerContent">
    <a href="literature.html">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a>
    <a href="music.html">–ú—É–∑—ã–∫–∞</a>
    <a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a>
    <a href="events.html">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a>
    <a href="reports.html">–û—Ç—á–µ—Ç—ã —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–µ–Ω–∏—è</a>
    <a href="about.html">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤</a>
  </div>
</div>
    </div>
  </header>

  <main class="container" style="padding-top:24px;">
    <div id="eventContainer"></div>
  </main>

  <footer>
    <div class="container footer-extra">
      <p>¬© 2025 –ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
  </footer>

  <script>
    const EVENTS_DATA = [
      {id:1, title:"–î–µ–Ω—å –ø–∞–º—è—Ç–∏ –≥–µ—Ä–æ–µ–≤ –†–æ—Å—Å–∏–∏", content:"<p>–ü–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç —Å —Ñ–æ—Ç–æ –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏.</p>", images:["https://picsum.photos/900/420?random=21","https://picsum.photos/900/420?random=31","https://picsum.photos/900/420?random=32"]},
      {id:2, title:"–í–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∞—è –∞–∫—Ü–∏—è ¬´–ü–æ–º–Ω–∏–º!¬ª", content:"<p>–û–ø–∏—Å–∞–Ω–∏–µ –∞–∫—Ü–∏–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏.</p>", images:["https://picsum.photos/900/420?random=22","https://picsum.photos/900/420?random=33"]},
      {id:3, title:"–ü–∞—Ç—Ä–∏–æ—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ü–µ—Ä—Ç", content:"<p>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ü–µ—Ä—Ç–∞ –∏ —Ñ–æ—Ç–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.</p>", images:["https://picsum.photos/900/420?random=23","https://picsum.photos/900/420?random=34"]},
      // ‚Ä¶ –¥–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏
    ];

    const params = new URLSearchParams(window.location.search);
    const id = parseInt(params.get("id"));
    const event = EVENTS_DATA.find(e => e.id === id);
    const container = document.getElementById("eventContainer");

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
    }

    if(!event){
      container.innerHTML = "<p>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>";
    } else {
      let imgsHtml = event.images.map((src,i)=>`<img src="${escapeHtml(src)}" class="${i===0?'active':''}" alt="${escapeHtml(event.title)}">`).join("");

      container.innerHTML = `
        <a href="#" class="btn btn-outline" id="backToEvents">&larr; –ù–∞–∑–∞–¥ –∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º</a>
        <div class="article-wrapper">
          <div class="article-image" id="articleImage">
            ${imgsHtml}
            <button class="prev-slide">&#10094;</button>
            <button class="next-slide">&#10095;</button>
          </div>
          <div class="article-content">
            <h1>${escapeHtml(event.title)}</h1>
            <div class="article-body">${event.content}</div>
          </div>
        </div>
      `;

      // –°–ª–∞–π–¥-—à–æ—É
      const imgs = document.querySelectorAll("#articleImage img");
      const prevBtn = document.querySelector(".prev-slide");
      const nextBtn = document.querySelector(".next-slide");
      let current = 0;

      function showSlide(n){
        imgs[current].classList.remove("active");
        current = (n + imgs.length) % imgs.length;
        imgs[current].classList.add("active");
      }

      prevBtn.addEventListener("click", ()=>showSlide(current-1));
      nextBtn.addEventListener("click", ()=>showSlide(current+1));
      setInterval(()=>showSlide(current+1),5000);
    }

    // –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ events.html
    document.addEventListener("click", (ev) => {
      const t = ev.target;
      if (t && t.id === "backToEvents") {
        ev.preventDefault();
        const savedPage = localStorage.getItem("eventsPage");
        let url = "events.html";
        if(savedPage){ url += `?page=${encodeURIComponent(savedPage)}`; }
        window.location.href = url;
      }
    });
  </script>
  <script src="script.js"></script>
</body>
</html>
